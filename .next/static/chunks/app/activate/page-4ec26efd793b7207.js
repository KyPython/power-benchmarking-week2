(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[884],{6334:function(e,t,n){Promise.resolve().then(n.bind(n,4320))},4320:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var i=n(7437),r=n(2265),o=n(9376);function c(){let e=(0,o.useSearchParams)().get("code"),[t,n]=(0,r.useState)("loading"),[c,a]=(0,r.useState)(null),[d,l]=(0,r.useState)(null);async function p(){try{let t=await fetch("".concat("https://power-benchmarking-week2.vercel.app/","/api/device-codes/").concat(e));if(!t.ok)throw Error("Invalid or expired code");let i=await t.json();a(i),i.activated?n("success"):n("found")}catch(e){n("error"),l(e.message)}}async function u(){n("activating");try{let t=await fetch("".concat("https://power-benchmarking-week2.vercel.app/","/api/activate"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e,confirm:!0})});if(!t.ok)throw Error("Activation failed");let i=await t.json();a({...c,...i,activated:!0}),n("success")}catch(e){n("error"),l(e.message)}}return((0,r.useEffect)(()=>{e?p():(n("error"),l("No activation code provided"))},[e]),"loading"===t)?(0,i.jsx)("div",{style:s.container,children:(0,i.jsxs)("div",{style:s.card,children:[(0,i.jsx)("div",{style:s.spinner}),(0,i.jsx)("p",{children:"Loading activation code..."})]})}):"error"===t?(0,i.jsx)("div",{style:s.container,children:(0,i.jsxs)("div",{style:s.card,children:[(0,i.jsx)("h1",{style:{color:"#dc2626"},children:"Activation Error"}),(0,i.jsx)("p",{children:d||"Something went wrong"})]})}):"success"===t?(0,i.jsx)("div",{style:s.container,children:(0,i.jsxs)("div",{style:s.card,children:[(0,i.jsx)("div",{style:s.successIcon,children:"âœ“"}),(0,i.jsx)("h1",{style:{color:"#16a34a"},children:"Activation Complete!"}),(0,i.jsx)("p",{children:"Your premium features are now enabled."}),(0,i.jsx)("a",{href:"/",style:s.button,children:"Go to Home"})]})}):(0,i.jsx)("div",{style:s.container,children:(0,i.jsxs)("div",{style:s.card,children:[(0,i.jsx)("h1",{children:"Activate Premium"}),(0,i.jsx)("p",{children:"You've received a premium activation code."}),(0,i.jsx)("div",{style:s.codeBox,children:(0,i.jsx)("code",{style:s.code,children:e})}),(0,i.jsx)("button",{onClick:u,style:s.activateButton,children:"Activate Now"})]})})}function a(){return(0,i.jsx)(r.Suspense,{fallback:(0,i.jsx)("div",{children:"Loading..."}),children:(0,i.jsx)(c,{})})}let s={container:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f9fafb",padding:"20px"},card:{backgroundColor:"white",borderRadius:"12px",padding:"40px",maxWidth:"400px",width:"100%",textAlign:"center",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},spinner:{width:"40px",height:"40px",border:"3px solid #e5e7eb",borderTopColor:"#3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 20px"},codeBox:{backgroundColor:"#f3f4f6",padding:"16px",borderRadius:"8px",margin:"20px 0"},code:{fontSize:"24px",fontWeight:"bold",letterSpacing:"2px"},activateButton:{backgroundColor:"#2563eb",color:"white",border:"none",padding:"14px 28px",fontSize:"16px",borderRadius:"8px",cursor:"pointer",width:"100%",fontWeight:"600"},button:{display:"inline-block",backgroundColor:"#2563eb",color:"white",padding:"12px 24px",borderRadius:"8px",textDecoration:"none",marginTop:"20px",fontWeight:"600"},successIcon:{width:"60px",height:"60px",backgroundColor:"#dcfce7",color:"#16a34a",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"30px",margin:"0 auto 20px"}}},9376:function(e,t,n){"use strict";var i=n(5475);n.o(i,"useSearchParams")&&n.d(t,{useSearchParams:function(){return i.useSearchParams}})}},function(e){e.O(0,[971,117,744],function(){return e(e.s=6334)}),_N_E=e.O()}]);